var DP=function(e,t){var n=this;return n.container=e,n.unit=n.container.getElementsByClassName("dp-unit")[0],n.span=n.container.getElementsByClassName("dp-span")[0],n.menu=n.container.getElementsByClassName("dp-menu")[0],document.addEventListener("click",function(e){n.menu.classList.contains("open")&&!isDescendant(n.container,e.target)&&n.menu.classList.remove("open")}),n.span.addEventListener("click",function(e){n.menu.classList.toggle("open")}),n.menu.addEventListener("click",function(e){e.target.classList.contains("dp-item")&&(n.setValue(e.target.dataset.value),n.close())}),this};DP.prototype.listen=function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},DP.prototype.unlisten=function(e,t){this._events=this._events||{},e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)},DP.prototype.trigger=function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))},DP.prototype.getValue=function(){return this.container.dataset.value},DP.prototype.setValue=function(e){this.container.dataset.value=e,this.trigger("changeValue")},DP.prototype.open=function(){this.menu.classList.add("open")},DP.prototype.close=function(){this.menu.classList.remove("open")};var isDescendant=function(e,t){for(var n=t.parentNode;null!=n;){if(n==e)return!0;n=n.parentNode}return!1};